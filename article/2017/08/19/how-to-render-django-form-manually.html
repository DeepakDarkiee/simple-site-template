<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from simpleisbetterthancomplex.com/article/2017/08/19/how-to-render-django-form-manually.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 03 Sep 2021 12:37:59 GMT -->
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="ir-site-verification-token" value="-233745807">
<title>How to Render Django Form Manually</title>
<meta name="description" content="Dealing with user input is a very common task in any Web application or Web site. The standard way to do it is throughHTML forms, where the user input some d...">
<link href="https://fonts.googleapis.com/css?family=Raleway:400,300,500,600,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../../../css/main71de.css?v=34">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="canonical" href="how-to-render-django-form-manually.html">
<link rel="alternate" type="application/rss+xml" title="Simple is Better Than Complex" href="../../../../feed.xml" />
<link rel="icon" type="image/png" href="../../../../favicon.png">
<link rel="mask-icon" href="../../../../safari-pinned-tab.svg" color="#5bbad5">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script src="../../../../js/site7b30.js?v=4"></script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-42049022-10', 'auto');
    ga('send', 'pageview');
  </script>
  <script>
    $(function () {
      $("#ad").on("click", "#carbonads .carbon-wrap a", function () {
        var page_id = 'how-to-render-django-form-manually.html';
        ga('send', 'event', 'carbonads', 'click', page_id, {
          'transport': 'beacon'
        });
      });
    });
  </script>
  <script>
  !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
  n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
  document,'script','https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '1689711451348257');
  fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none" alt="PageView"
  src="https://www.facebook.com/tr?id=1689711451348257&amp;ev=PageView&amp;noscript=1"
  /></noscript>
  <script data-ad-client="ca-pub-5430683801108011" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


  <meta property="og:title" content="How to Render Django Form Manually">
<meta property="og:url" content="https://simpleisbetterthancomplex.com/article/2017/08/19/how-to-render-django-form-manually.html">
<meta property="og:image" content="https://simpleisbetterthancomplex.com/media/2017/08/thumbnail-form-rendering.jpg">
<meta property="og:description" content="Dealing with user input is a very common task in any Web application or Web site. The standard way to do it is throughHTML forms, where the user input some d...">
<meta property="og:site_name" content="Simple is Better Than Complex">
<meta property="og:locale" content="en_US">

  <meta property="article:published_time" content="2017-08-19T00:00:00+03:00">
  <meta property="article:author" content="https://facebook.com/vitorfs">

<meta property="fb:admins" content="100000024295617">
<meta property="fb:app_id" content="1645747765697865">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="vitorfs">
<meta name="twitter:creator" content="vitorfs">
<meta name="twitter:title" content="How to Render Django Form Manually">
<meta name="twitter:description" content="Dealing with user input is a very common task in any Web application or Web site. The standard way to do it is throughHTML forms, where the user input some data, submit it to the server, and then t...">
<meta name="twitter:image" content="https://simpleisbetterthancomplex.com/media/2017/08/thumbnail-form-rendering.jpg">
<meta name="p:domain_verify" content="e262845cb18e4c68b0cff535a0eaea5d">
  <meta property="og:type" content="article">
  
    <meta property="article:tag" content="django">
  
    <meta property="article:tag" content="forms">
  
    <meta property="article:tag" content="template">
  
  <style type="text/css">
    @media (min-width: 750px) {
      body {
        /*padding-top:50px!important;*/
      }
    }
  </style>
  <script src="http://m.servedby-buysellads.com/monetization.js"></script>
</head>
<body>
  <div id="top" style="visibility: hidden"></div>
<header>
  <div class="container">
    <ul class="menu menu-right">
      <li class="menu-item">
        <a href="../../../../search/index.html">
          <span class="fa fa-search"></span>
        </a>
      </li>
      <li class="toggle-menu">
        <a href="javascript:void(0);">
          <span class="fa fa-bars"></span>
        </a>
      </li>
    </ul>
    <ul class="menu menu-left">
      <li class="logo">
        <a href="../../../../index.html" style="font-weight: 900">simple<span class="brand">is</span>better<span class="brand">than</span>complex</a>
      </li>
      <li class="menu-item">
        <a href="../../../../index.html">
          <span class="fa fa-home" style="margin-right: 3px"></span>
          Home
        </a>
      </li>
      <li class="menu-item">
        <a href="../../../../archive/index.html">
          <span class="fa fa-archive" style="margin-right: 3px"></span>
          Articles
        </a>
      </li>
      <li class="menu-item">
        <a href="../../../../videos/index.html">
          <span class="fa fa-video-camera" style="margin-right: 3px"></span>
          Videos
        </a>
      </li>
      <li class="menu-item">
        <a href="../../../../series/index.html">
          <span class="fa fa-book" style="margin-right: 3px"></span>
          Series
        </a>
      </li>
      <li class="menu-item">
        <a href="../../../../snippets/index.html">
          <span class="fa fa-code" style="margin-right: 3px"></span>
          Snippets
        </a>
      </li>
      <li class="menu-item">
        <a href="../../../../sponsor/index.html">
          <span class="fa fa-bullhorn" style="margin-right: 3px"></span>
          Sponsor
        </a>
      </li>
      <li class="menu-item">
        <a href="../../../../feed.xml" target="_blank">
          <span class="fa fa-rss" style="margin-right: 3px"></span>
          RSS
        </a>
      </li>
      <li class="menu-item">
        <a href="https://colossus.simpleisbetterthancomplex.com/subscribe/d2320a41-0378-4aa8-8f4e-5bb1ffcd521d/" class="brand" target="_blank">
          <span class="fa fa-send" style="margin-right: 3px"></span> Subscribe
        </a>
      </li>
      <li class="menu-item hidden-mobile">
        <a href="../../../../search/index.html">
          <span class="fa fa-search"></span> Search
        </a>
      </li>
    </ul>
  </div>
</header>

  <!--p style="text-align:center;font-size:1.4rem;margin-top:2rem;margin-bottom:2rem;">
    <span style="background-color:#1eaedb;color:#fff;border-radius:3px;padding:3px 5px;font-size:1.2rem;margin-right:5px;">Sponsored</span>
    <a href="/sponsor/" rel="noopener nofollow">
      By You? Learn more about sponsorship of the blog.
    </a>
  </p-->

  <main>
    <div class="container">
      <div class="row">
        <div class="ten offset-by-one columns content post">
          <div class="card post-author">
  <div class="author-picture">
    <img src="../../../../img/picture.jpg" alt="Vitor Freitas">
  </div>
  <div class="author-info">
    <p class="name">By <strong>Vitor Freitas</strong></p>
    <a href="https://www.digitalocean.com/?refcode=074832454ff1&amp;utm_campaign=Referral_Invite&amp;utm_medium=Referral_Program&amp;utm_source=badge" class="powered-by-do">
      <img src="https://web-platforms.sfo2.cdn.digitaloceanspaces.com/WWW/Badge 1.svg" alt="DigitalOcean Referral Badge">
    </a>
    <p class="bio">
      I'm a passionate software developer and researcher. I write about Python, Django and Web Development on a weekly basis. <a href="../../../../about/index.html" rel="author">Read more</a>.
    </p>
    <p class="contact">
      <a href="https://www.youtube.com/VitorFreitas" rel="me noopener" target="_blank" title="YouTube"><i class="fa fa-youtube-play"></i></a>
      <a href="https://github.com/vitorfs" rel="me noopener" target="_blank" title="GitHub"><i class="fa fa-github"></i></a>
      <a href="https://twitter.com/vitorfs" rel="me noopener" target="_blank" title="Twitter"><i class="fa fa-twitter"></i></a>
      <a href="https://facebook.com/vitorfs" rel="me noopener" target="_blank" title="Facebook"><i class="fa fa-facebook-official"></i></a>
      <a href="https://linkedin.com/in/vitorfs" rel="me noopener" target="_blank" title="LinkedIn"><i class="fa fa-linkedin-square"></i></a>
      <a href="https://instagram.com/vitorfs" rel="me noopener" target="_blank" title="Instagram"><i class="fa fa-instagram"></i></a>
      <a href="../../../../contact/index.html" title="Contact"><i class="fa fa-envelope"></i></a>
    </p>
  </div>
  
  
  <div class="row">
    <div class="six columns">
      <div id="ad">
        <script async type="text/javascript" src="http://cdn.carbonads.com/carbon.js?serve=CKYIEKQM&amp;placement=simpleisbetterthancomplexcom" id="_carbonads_js"></script>
      </div>
    </div>


    <!--div class="six columns">
      <div id="ad2">
        <div id="sponsored">
          <a href="/sponsor/">
            <img src="/media/sponsored/ad.png" alt="Advertise Here">
            <span>Reach 90k+ Django developers every month. Learn more about sponsorship of the blog.</span>
          </a>
          <small>
            <a href="/sponsor/">Sponsored</a>
          </small>
        </div>

        <div id="sponsored">
          <a href="https://click.linksynergy.com/link?id=phY4769lVwA&offerid=507388.567828&type=2&murl=https%3A%2F%2Fwww.udemy.com%2Fcomplete-python-bootcamp%2F" target="_blank" rel="noopener nofollow">
            <img border="0" src="https://udemy-images.udemy.com/course/480x270/567828_67d0.jpg" alt="Complete Python Bootcamp: Go from zero to hero in Python 3">
            <span>Complete Python Bootcamp: Go from zero to hero in Python 3</span>
          </a>
          <small>
            <a href="/sponsor/">Sponsored</a>
          </small>
          <img border="0" width="1" height="1" src="https://ad.linksynergy.com/fs-bin/show?id=phY4769lVwA&bids=507388.567828&type=2&subid=0" alt="LinkSynergy">
        </div>

      </div>
    </div-->


  </div>
  
</div>


          <p style="text-align:center;font-size:1.4rem;margin-bottom:4rem;">
            <i class="fa fa-youtube-play" style="color:#ff0000!important;"></i> <a href="https://www.youtube.com/VitorFreitas?sub_confirmation=1" target="_blank">Subscribe to our YouTube Channel!</a>
            <br>
            <a href="https://youtu.be/Udf4VbtM92Y" target="_blank">[Jul 12, 2021] New Video: How to Use Django Rest Framework Permissions (DRF Tutorial - Part 7)</a>
          </p>

          <div class="card">
            
  <h5 class="post-category">
    
      article
    
  </h5>
  <hr class="dashed">

<h3 class="post-title">How to Render Django Form Manually</h3>
<ul class="post-meta">
  <li>
    <i class="fa fa-calendar"></i> Aug 19, 2017
  </li>
  <li>
    <i class="fa fa-clock-o"></i>
    29 minutes read
  </li>
  <li>
    <i class="fa fa-comments"></i>
    <a href="#disqus_thread" data-disqus-identifier="/article/2017/08/19/how-to-render-django-form-manually">comments</a>
  </li>
  <li>
    <i class="fa fa-eye"></i>
    <span class="ga-page-views" data-ga-identifier="how-to-render-django-form-manually.html"></span> views
  </li>
  
  
</ul>

  <div class="post-featured-image">
    <img src="../../../../media/2017/08/featured-form-rendering.jpg" alt="How to Render Django Form Manually" class="featured-image">
    
      <small>(Picture: <a href="https://www.pexels.com/photo/business-coffee-composition-computer-265667/" target="_blank">https://www.pexels.com/photo/business-coffee-composition-computer-265667/</a>)</small>
    
  </div>


            <article>
              <p>Dealing with user input is a very common task in any Web application or Web site. The standard way to do it is through
HTML forms, where the user input some data, submit it to the server, and then the server does something with it. Now,
the chances are that you might have already heard that quote: “All input is evil!” I don’t know who said that first,
but it was very well said. Truth is, every input in your application is a door, a potential attack vector. So you
better secure all doors! To make your life easier, and to give you some peace of mind, Django offers a very rich,
reliable and secure forms API. And you should definitely use it, no matter how simple your HTML form is.</p>

<p>Managing user input, form processing is a fairly complex task, because it involves interacting with many layers of
your application. It have to access the database; clean, validate, transform, and guarantee the integrity of
the data; sometimes it needs to interact with multiple models, communicate human readable error messages, and then
finally it also have to translate all the Python code that represents your models into HTML inputs. In some cases,
those HTML inputs may involve JavaScript and CSS code (a custom date picker, or an auto-complete field for example).</p>

<p>The thing is, Django does very well the server-side part. But it doesn’t mess much with the client-side part. The HTML
forms automatically generated by Django is fully functional and can be used as it is. But it’s very crude, it’s just
plain HTML, no CSS and no JavaScripts. It was done that way so you can have total control on how to present the forms
so to match with your application’s Web design. On the server-side is a little bit different, as thing are more
standardized, so most of the functionalities offered by the forms API works out-of-the-box. And for the special cases,
it provide many ways to customize it.</p>

<p>In this tutorial I will show you how to work with the rendering part, using custom CSS and making your forms prettier.</p>

<p>Here is the table of contents of this article:</p>

<ul>
  <li><a href="#working-example">Working Example</a></li>
  <li><a href="#understanding-the-rendering-process">Understanding the Rendering Process</a></li>
  <li><a href="#accessing-the-form-fields-individually">Accessing the Form Fields Individually</a></li>
  <li><a href="#expanding-the-form-fields">Expanding the Form Fields</a></li>
  <li><a href="#using-custom-html-attributes">Using Custom HTML Attributes</a></li>
  <li><a href="#using-django-widget-tweaks">Using Django Widget Tweaks</a></li>
  <li><a href="#rendering-bootstrap-4-forms">Rendering Bootstrap 4 Forms</a></li>
  <li><a href="#reusing-form-components">Reusing Form Components</a></li>
  <li><a href="#conclusions">Conclusions</a></li>
</ul>

<hr />

<h4 id="working-example">Working Example</h4>

<p>Throughout the whole tutorial I will be using the following form definition to illustrate the examples:</p>

<p><strong>forms.py</strong></p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>

<span class="k">class</span> <span class="nc">ContactForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">EmailField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">254</span><span class="p">)</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
        <span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(),</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s">'Write here your message!'</span>
    <span class="p">)</span>
    <span class="n">source</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>       <span class="c"># A hidden input for internal use</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>              <span class="c"># tell from which page the user sent the message</span>
        <span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">HiddenInput</span><span class="p">()</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">clean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cleaned_data</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">ContactForm</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">clean</span><span class="p">()</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'name'</span><span class="p">)</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'email'</span><span class="p">)</span>
        <span class="n">message</span> <span class="o">=</span> <span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'message'</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">email</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">message</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">forms</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s">'You have to write something!'</span><span class="p">)</span></code></pre></figure>

<p>And the following view just to load the form and trigger the validation process so we can have the form in different
states:</p>

<p><strong>views.py</strong></p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span> <span class="nn">.forms</span> <span class="kn">import</span> <span class="n">ContactForm</span>

<span class="k">def</span> <span class="nf">home</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="k">pass</span>  <span class="c"># does nothing, just trigger the validation</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'home.html'</span><span class="p">,</span> <span class="p">{</span><span class="s">'form'</span><span class="p">:</span> <span class="n">form</span><span class="p">})</span></code></pre></figure>

<hr />

<h4 id="understanding-the-rendering-process">Understanding the Rendering Process</h4>

<p>In many tutorials or in the official Django documentation, it’s very common to see form templates like this:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">novalidate</span><span class="nt">&gt;</span>
  <span class="cp">{%</span> <span class="nv">csrf_token</span> <span class="cp">%}</span>
  <span class="cp">{{</span> <span class="nv">form</span> <span class="cp">}}</span>
  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<div class="info">
  <strong><i class="fa fa-info-circle"></i> Note:</strong>
  Maybe you are wondering about the <code>novalidate</code> attribute in the form. In a real case you probably won't
  want to use it. It prevents the browser from "validating" the data before submitting to the server. As in the
  examples we are going to explore I only have "required" field errors, it would prevent us from seeing the server-side
  actual data validation and exploring the error states of the form rendering.
</div>

<p>It looks like magic, right? Because this particular form may contain 50 fields, and the simple command
<code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">form</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> will render them all in the template.</p>

<p>When we write <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">form</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> in a template, it’s actually accessing the
<a href="https://github.com/django/django/blob/1.11.4/django/forms/forms.py#L136" target="_blank"><code class="highlighter-rouge">__str__</code></a> method from the <code class="highlighter-rouge">BaseForm</code> class. The <code class="highlighter-rouge">__str__</code> method is used to provide
a string representation of an object. If you have a look in the source code, you will see that it returns the
<code class="highlighter-rouge">as_table()</code> method. So, basically <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">form</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> and <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">form.as_table</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> is
the same thing.</p>

<p>The forms API offer three methods to automatically render the HTML form:</p>

<ul>
  <li><a href="https://github.com/django/django/blob/1.11.4/django/forms/forms.py#L278" target="_blank">as_table()</a></li>
  <li><a href="https://github.com/django/django/blob/1.11.4/django/forms/forms.py#L287" target="_blank">as_ul()</a></li>
  <li><a href="https://github.com/django/django/blob/1.11.4/django/forms/forms.py#L296" target="_blank">as_p()</a></li>
</ul>

<p>They all work more or less in the same way, the difference is the HTML code that wraps the inputs.</p>

<p>Below is the result of the previous code snippet:</p>

<p><img src="../../../../media/2017/08/form-1.png" alt="Contact Form" /></p>

<p>But, if <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">form</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> and <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">form.as_table</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> is the same thing, the output
definitively doesn’t look like a table, right? That’s because the <code class="highlighter-rouge">as_table()</code> and <code class="highlighter-rouge">as_ul()</code> doesn’t create the
<code class="highlighter-rouge">&lt;table&gt;</code> and the <code class="highlighter-rouge">&lt;ul&gt;</code> tags, so we have to add it by ourselves.</p>

<p>So, the correct way to do it would be:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">novalidate</span><span class="nt">&gt;</span>
  <span class="cp">{%</span> <span class="nv">csrf_token</span> <span class="cp">%}</span>
  <span class="nt">&lt;table</span> <span class="na">border=</span><span class="s">"1"</span><span class="nt">&gt;</span>
    <span class="cp">{{</span> <span class="nv">form</span> <span class="cp">}}</span>
  <span class="nt">&lt;/table&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<p><img src="../../../../media/2017/08/form-2.png" alt="Contact Form" /></p>

<p>Now it makes sense right? Without the <code class="highlighter-rouge">&lt;table&gt;</code> tag the browser doesn’t really know how to render
the HTML output, so it just present all the visible fields in line, as we don’t have any CSS yet.</p>

<p>If you have a look in the <a href="https://github.com/django/django/blob/1.11.4/django/forms/forms.py#L200" target="_blank"><code class="highlighter-rouge">_html_output</code></a> private method defined in the
<code class="highlighter-rouge">BaseForm</code>, which is used by all the <code class="highlighter-rouge">as_*()</code> methods, you will see that it’s a fairly complex method with 76 lines of
code and it does lots of things. It’s okay because this method is well tested and it’s part of the core of the forms
API, the underlying mechanics that make things work. When working on your own form rendering logic you won’t need to
write Python code to do the job. It’s much better to do it using the Django Templates engine, as you can achieve a more
clean and easier to maintain code.</p>

<p>I’m mentioning the <code class="highlighter-rouge">_html_output</code> method here because we can use it to analyze what kind of code it’s generating, what
it’s really doing, so we can mimic it using the template engine. It’s also a very good exercise to read the source
code and get more comfortable with it. It’s a great source of information. Even though Django’s documentation is very
detailed and extensive, there are always some hidden bits here and there. You also get the chance to see by examples
how smart coders solved specific problems. After all, it’s an open source project with a mature development process
that many have contributed, so the chances are you are reading an optimal code.</p>

<p>Anyway, here it is, in a nutshell, what the <code class="highlighter-rouge">_html_output</code> does:</p>

<ul>
  <li>Aggregate the errors that are not attached to specific fields (non field errors) and errors from hidden fields;</li>
  <li>Place the non field errors and hidden field errors on top of the form;</li>
  <li>Iterate through all the form fields;</li>
  <li>Render the form fields one by one;
    <ul>
      <li>Render the field name in a label tag;</li>
      <li>If there are field errors, render a HTML list with errors first;</li>
      <li>Render the HTML input for the field;</li>
      <li>If there is a help text, render it after the field.</li>
    </ul>
  </li>
</ul>

<p>Here is what the second state of the form looks like, triggering all the validation errors:</p>

<p><img src="../../../../media/2017/08/form-3.png" alt="Contact Form With Errors" /></p>

<p>Now that we know what it’s doing, we can try to mimic the same behavior using the template engine. This way, we will
have much more control over the rendering process:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">novalidate</span><span class="nt">&gt;</span>
  <span class="cp">{%</span> <span class="nv">csrf_token</span> <span class="cp">%}</span>

  <span class="cp">{{</span> <span class="nv">form.non_field_errors</span> <span class="cp">}}</span>

  <span class="cp">{%</span> <span class="k">for</span> <span class="nv">hidden_field</span> <span class="ow">in</span> <span class="nv">form.hidden_fields</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">hidden_field.errors</span> <span class="cp">}}</span>
    <span class="cp">{{</span> <span class="nv">hidden_field</span> <span class="cp">}}</span>
  <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

  <span class="nt">&lt;table</span> <span class="na">border=</span><span class="s">"1"</span><span class="nt">&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">field</span> <span class="ow">in</span> <span class="nv">form.visible_fields</span> <span class="cp">%}</span>
      <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;th&gt;</span><span class="cp">{{</span> <span class="nv">field.label_tag</span> <span class="cp">}}</span><span class="nt">&lt;/th&gt;</span>
        <span class="nt">&lt;td&gt;</span>
          <span class="cp">{{</span> <span class="nv">field.errors</span> <span class="cp">}}</span>
          <span class="cp">{{</span> <span class="nv">field</span> <span class="cp">}}</span>
          <span class="cp">{{</span> <span class="nv">field.help_text</span> <span class="cp">}}</span>
        <span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
  <span class="nt">&lt;/table&gt;</span>

  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<p>You will notice that the result is slightly different, but all the elements are there. The thing is, the automatic
generation of the HTML just using the <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">form</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> takes advantage of the Python language, so it
can play with string concatenation, joining lists (non field errors + hidden field errors), and this sort of things.
The template engine is more limited and restrict, but that’s not an issue. I like the Django Template engine because
it doesn’t let you do much code logic in the template.</p>

<p><img src="../../../../media/2017/08/form-4.png" alt="Contact Form With Errors" /></p>

<p>The only real issue is the random “This field is required” on the top, which refers to the <strong>source</strong> field. But we can
improve that. Let’s keep expanding the form rendering, so we can even get more control over it:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">novalidate</span><span class="nt">&gt;</span>
  <span class="cp">{%</span> <span class="nv">csrf_token</span> <span class="cp">%}</span>

  <span class="cp">{%</span> <span class="k">if</span> <span class="nv">form.non_field_errors</span> <span class="cp">%}</span>
    <span class="nt">&lt;ul&gt;</span>
      <span class="cp">{%</span> <span class="k">for</span> <span class="nv">error</span> <span class="ow">in</span> <span class="nv">form.non_field_errors</span> <span class="cp">%}</span>
        <span class="nt">&lt;li&gt;</span><span class="cp">{{</span> <span class="nv">error</span> <span class="cp">}}</span><span class="nt">&lt;/li&gt;</span>
      <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
    <span class="nt">&lt;/ul&gt;</span>
  <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

  <span class="cp">{%</span> <span class="k">for</span> <span class="nv">hidden_field</span> <span class="ow">in</span> <span class="nv">form.hidden_fields</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">hidden_field.errors</span> <span class="cp">%}</span>
      <span class="nt">&lt;ul&gt;</span>
        <span class="cp">{%</span> <span class="k">for</span> <span class="nv">error</span> <span class="ow">in</span> <span class="nv">hidden_field.errors</span> <span class="cp">%}</span>
          <span class="nt">&lt;li&gt;</span>(Hidden field <span class="cp">{{</span> <span class="nv">hidden_field.name</span> <span class="cp">}}</span>) <span class="cp">{{</span> <span class="nv">error</span> <span class="cp">}}</span><span class="nt">&lt;/li&gt;</span>
        <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
      <span class="nt">&lt;/ul&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">hidden_field</span> <span class="cp">}}</span>
  <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

  <span class="nt">&lt;table</span> <span class="na">border=</span><span class="s">"1"</span><span class="nt">&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">field</span> <span class="ow">in</span> <span class="nv">form.visible_fields</span> <span class="cp">%}</span>
      <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;th&gt;</span><span class="cp">{{</span> <span class="nv">field.label_tag</span> <span class="cp">}}</span><span class="nt">&lt;/th&gt;</span>
        <span class="nt">&lt;td&gt;</span>
          <span class="cp">{%</span> <span class="k">if</span> <span class="nv">field.errors</span> <span class="cp">%}</span>
            <span class="nt">&lt;ul&gt;</span>
              <span class="cp">{%</span> <span class="k">for</span> <span class="nv">error</span> <span class="ow">in</span> <span class="nv">field.errors</span> <span class="cp">%}</span>
                <span class="nt">&lt;li&gt;</span><span class="cp">{{</span> <span class="nv">error</span> <span class="cp">}}</span><span class="nt">&lt;/li&gt;</span>
              <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
            <span class="nt">&lt;/ul&gt;</span>
          <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
          <span class="cp">{{</span> <span class="nv">field</span> <span class="cp">}}</span>
          <span class="cp">{%</span> <span class="k">if</span> <span class="nv">field.help_text</span> <span class="cp">%}</span>
            <span class="nt">&lt;br</span> <span class="nt">/&gt;</span><span class="cp">{{</span> <span class="nv">field.help_text</span> <span class="cp">}}</span>
          <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
        <span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
  <span class="nt">&lt;/table&gt;</span>

  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<p><img src="../../../../media/2017/08/form-5.png" alt="Contact Form With Errors" /></p>

<p>Much closer right?</p>

<p>Now that we know how to “expand” the <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">form</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> markup, let’s try to make it look prettier.
Perhaps using the Bootstrap 4 library.</p>

<hr />

<h4 id="accessing-the-form-fields-individually">Accessing the Form Fields Individually</h4>

<p>We don’t need a for loop to expose the form fields. But it’s a very convenient way to do it, specially if you don’t
have any special requirements for the elements positioning.</p>

<p>Here is how we can refer to the form fields one by one:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">novalidate</span><span class="nt">&gt;</span>
  <span class="cp">{%</span> <span class="nv">csrf_token</span> <span class="cp">%}</span>

  <span class="cp">{{</span> <span class="nv">form.non_field_errors</span> <span class="cp">}}</span>

  <span class="cp">{{</span> <span class="nv">form.source.errors</span> <span class="cp">}}</span>
  <span class="cp">{{</span> <span class="nv">form.source</span> <span class="cp">}}</span>

  <span class="nt">&lt;table</span> <span class="na">border=</span><span class="s">"1"</span><span class="nt">&gt;</span>

      <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;th&gt;</span><span class="cp">{{</span> <span class="nv">form.name.label_tag</span> <span class="cp">}}</span><span class="nt">&lt;/th&gt;</span>
        <span class="nt">&lt;td&gt;</span>
          <span class="cp">{{</span> <span class="nv">form.name.errors</span> <span class="cp">}}</span>
          <span class="cp">{{</span> <span class="nv">form.name</span> <span class="cp">}}</span>
        <span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>

      <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;th&gt;</span><span class="cp">{{</span> <span class="nv">form.email.label_tag</span> <span class="cp">}}</span><span class="nt">&lt;/th&gt;</span>
        <span class="nt">&lt;td&gt;</span>
          <span class="cp">{{</span> <span class="nv">form.email.errors</span> <span class="cp">}}</span>
          <span class="cp">{{</span> <span class="nv">form.email</span> <span class="cp">}}</span>
        <span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>

      <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;th&gt;</span><span class="cp">{{</span> <span class="nv">form.message.label_tag</span> <span class="cp">}}</span><span class="nt">&lt;/th&gt;</span>
        <span class="nt">&lt;td&gt;</span>
          <span class="cp">{{</span> <span class="nv">form.message.errors</span> <span class="cp">}}</span>
          <span class="cp">{{</span> <span class="nv">form.message</span> <span class="cp">}}</span>
          <span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
          <span class="cp">{{</span> <span class="nv">form.message.help_text</span> <span class="cp">}}</span>
        <span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>

  <span class="nt">&lt;/table&gt;</span>

  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<p>It’s not a very DRY solution. But it’s good to know how to do it. Sometimes you may have a very specific use case that
you will need to position the fields in the HTML by yourself.</p>

<hr />

<h4 id="expanding-the-form-fields">Expanding the Form Fields</h4>

<p>We can still dig deeper and expand the <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">field</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> markup (or if you are doing it individually,
it would be the <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">form.name</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> or <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">form.email</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> fields for example).
But now things get a little bit more complex, because we are talking about the widgets. For example, the <strong>name</strong> field
translates into a <code class="highlighter-rouge">&lt;input type="text"&gt;</code> tag, while the <strong>email</strong> field translates into a
<code class="highlighter-rouge">&lt;input type="email"&gt;</code> tag, and even more problematic, the <strong>message</strong> field translates into a
<code class="highlighter-rouge">&lt;textarea&gt;&lt;/textarea&gt;</code> tag.</p>

<p>At this point, Django makes use of <a href="https://github.com/django/django/tree/1.11.4/django/forms/templates/django/forms/widgets" target="_blank">small HTML templates</a> to generate the
output HTML of the fields.</p>

<p>So let’s see how Django does it. If we open the <a href="https://github.com/django/django/blob/1.11.4/django/forms/templates/django/forms/widgets/text.html" target="_blank">text.html</a> or the
<a href="https://github.com/django/django/blob/1.11.4/django/forms/templates/django/forms/widgets/email.html" target="_blank">email.html</a> templates from the widgets folder, we will see it simply includes
the <a href="https://github.com/django/django/blob/1.11.4/django/forms/templates/django/forms/widgets/input.html" target="_blank">input.html</a> template file:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="cp">{%</span> <span class="k">include</span> <span class="s2">"django/forms/widgets/input.html"</span> <span class="cp">%}</span></code></pre></figure>

<p>This suggests the <strong>input.html</strong> template is probably the most generic one, the specifics of the rendering might be
inside it. So, let’s have a look:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">widget.type</span> <span class="cp">}}</span><span class="s">"</span>
       <span class="na">name=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">widget.name</span> <span class="cp">}}</span><span class="s">"</span>
       <span class="cp">{%</span> <span class="k">if</span> <span class="nv">widget.value</span> <span class="o">!=</span> <span class="kp">None</span> <span class="cp">%}</span> <span class="na">value=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">widget.value</span><span class="o">|</span><span class="nf">stringformat</span><span class="err">:</span><span class="s1">'s'</span> <span class="cp">}}</span><span class="s">"</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
       <span class="cp">{%</span> <span class="k">include</span> <span class="s2">"django/forms/widgets/attrs.html"</span> <span class="cp">%}</span> <span class="nt">/&gt;</span></code></pre></figure>

<p>Basically this small template sets the input <strong>type</strong>, it’s <strong>name</strong> which is used to access the data in the request
object. For example, an input with name “message”, if posted to the server, is accessible via
<code class="highlighter-rouge">request.POST['message']</code>.</p>

<p>Still on the <strong>input.html</strong> template snippet, it also sets the current <strong>value</strong> of the field, or leave it empty if
there is no data. It’s an important bit in the template, because that’s what keeps the state of the form after it’s
submitted and wasn’t successfully processed (form was invalid).</p>

<p>Finally, it includes the <a href="https://github.com/django/django/blob/1.11.4/django/forms/templates/django/forms/widgets/attrs.html" target="_blank">attrs.html</a> template, which is responsible for
setting attributes such as <strong>maxlength</strong>, <strong>required</strong>, <strong>placeholder</strong>, <strong>style</strong>, or any other HTML attribute. It’s
highly customizable in the form definition.</p>

<p>If you are curious about the <strong>attrs.html</strong>, here is what it looks like:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">name</span><span class="p">,</span> <span class="nv">value</span> <span class="ow">in</span> <span class="nv">widget.attrs.items</span> <span class="cp">%}</span>
  <span class="cp">{%</span> <span class="k">if</span> <span class="nv">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kp">False</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}{%</span> <span class="k">if</span> <span class="nv">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kp">True</span> <span class="cp">%}</span>="<span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">stringformat</span><span class="err">:</span><span class="s1">'s'</span> <span class="cp">}}</span>"<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
  <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span></code></pre></figure>

<p>Now, if you really want to create the inputs by yourself, you can do it like this (just the <strong>name</strong> field, for
brevity):</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span>
       <span class="na">name=</span><span class="s">"name"</span>
       <span class="na">id=</span><span class="s">"id_name"</span>
       <span class="cp">{%</span> <span class="k">if</span> <span class="nv">form.name.value</span> <span class="o">!=</span> <span class="kp">None</span> <span class="cp">%}</span><span class="na">value=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">form.name.value</span><span class="o">|</span><span class="nf">stringformat</span><span class="err">:</span><span class="s1">'s'</span> <span class="cp">}}</span><span class="s">"</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
       <span class="na">maxlength=</span><span class="s">"30"</span>
       <span class="na">required</span><span class="nt">&gt;</span></code></pre></figure>

<p>Or a little bit better:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span>
       <span class="na">name=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">form.name.name</span> <span class="cp">}}</span><span class="s">"</span>
       <span class="na">id=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">form.name.id_for_label</span> <span class="cp">}}</span><span class="s">"</span>
       <span class="cp">{%</span> <span class="k">if</span> <span class="nv">form.name.value</span> <span class="o">!=</span> <span class="kp">None</span> <span class="cp">%}</span><span class="na">value=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">form.name.value</span><span class="o">|</span><span class="nf">stringformat</span><span class="err">:</span><span class="s1">'s'</span> <span class="cp">}}</span><span class="s">"</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
       <span class="na">maxlength=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">form.name.field.max_length</span> <span class="cp">}}</span><span class="s">"</span>
       <span class="cp">{%</span> <span class="k">if</span> <span class="nv">form.name.field.required</span> <span class="cp">%}</span><span class="na">required</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="nt">&gt;</span></code></pre></figure>

<p>Probably you already figured out that’s not the best way to work with forms. And maybe you are also asking yourself
why sometimes we refer to a certain attribute as <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">form.name.&lt;something&gt;</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> and in other situations
we use <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">form.name.field.&lt;something&gt;</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code>.</p>

<p>I don’t want to go into much detail about it right now, but basically <code class="highlighter-rouge">form.name</code> is a <code class="highlighter-rouge">BoundField</code> (field + data)
instance, and then, the <code class="highlighter-rouge">form.name.field</code> is the field definition, which is an instance of <code class="highlighter-rouge">forms.CharField</code>. That’s
why some values are available in the bound field instance, and others are in the char field definition.</p>

<p>In any form definition, the form’s <code class="highlighter-rouge">__iter__</code> returns a list of <code class="highlighter-rouge">BoundField</code> instances, in a similar way, the
<code class="highlighter-rouge">visible_fields()</code> and <code class="highlighter-rouge">hidden_fields()</code> methods also return <code class="highlighter-rouge">BoundField</code> instances. Now, if you access the
<code class="highlighter-rouge">form.fields</code>, it refers to a list of <code class="highlighter-rouge">CharField</code>, <code class="highlighter-rouge">EmailField</code>, and all other field definitions etc. If that’s too
much information for you right now, it’s okay, you don’t have to bother about it right now.</p>

<hr />

<h4 id="using-custom-html-attributes">Using Custom HTML Attributes</h4>

<p>There are some cases that you only want to add an extra HTML attribute, like a <strong>class</strong>, a <strong>style</strong>, or a
<strong>placeholder</strong>. You don’t need to expand the input field like we did in the previous example. You can do it directly
in the form definition:</p>

<p><strong>forms.py</strong></p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">ColorfulContactForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
        <span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">TextInput</span><span class="p">(</span>
            <span class="n">attrs</span><span class="o">=</span><span class="p">{</span>
                <span class="s">'style'</span><span class="p">:</span> <span class="s">'border-color: blue;'</span><span class="p">,</span>
                <span class="s">'placeholder'</span><span class="p">:</span> <span class="s">'Write your name here'</span>
            <span class="p">}</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">EmailField</span><span class="p">(</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">254</span><span class="p">,</span>
        <span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">EmailInput</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'style'</span><span class="p">:</span> <span class="s">'border-color: green;'</span><span class="p">})</span>
    <span class="p">)</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
        <span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'style'</span><span class="p">:</span> <span class="s">'border-color: orange;'</span><span class="p">}),</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s">'Write here your message!'</span>
    <span class="p">)</span></code></pre></figure>

<p><img src="../../../../media/2017/08/form-6.png" alt="Colorful Contact Form" /></p>

<p>Next, we are going to explore a third-party library that can make your life easier.</p>

<hr />

<h4 id="using-django-widget-tweaks">Using Django Widget Tweaks</h4>

<p>Even though we can control the custom HTML attributes in the form definition, it would be much better if we could set
them directly in the template. After all, the HTML attributes refer to the presentation of the inputs.</p>

<p>The <strong>django-widget-tweaks</strong> library is the right tool for the job. It let you keep the form defaults and just add
what you need. It’s very convenient, specially when working with <strong>ModelForms</strong>, as it will reduce the amount of code
you have to write to accomplish simple tasks.</p>

<p>I’m not going into much detail about the <strong>django-widget-tweaks</strong> because I have an article dedicated about it:
<a href="../../../../2015/12/04/package-of-the-week-django-widget-tweaks.html">How to use django-widget-tweaks</a>.</p>

<p>Here’s a quick get started guide:</p>

<p>First, install it using pip:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pip install django-widget-tweaks</code></pre></figure>

<p>Add it to the <code class="highlighter-rouge">INSTALLED_APPS</code>:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">'django.contrib.auth'</span><span class="p">,</span>
    <span class="s">'django.contrib.contenttypes'</span><span class="p">,</span>
    <span class="s">'django.contrib.sessions'</span><span class="p">,</span>
    <span class="s">'django.contrib.messages'</span><span class="p">,</span>
    <span class="s">'django.contrib.staticfiles'</span><span class="p">,</span>

    <span class="s">'widget_tweaks'</span><span class="p">,</span>
<span class="p">]</span></code></pre></figure>

<p>Load it in the template:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="cp">{%</span> <span class="nv">load</span> <span class="nv">widget_tweaks</span> <span class="cp">%}</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;title&gt;</span>Simple is Better Than Complex<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  ...
<span class="nt">&lt;/body&gt;</span></code></pre></figure>

<p>And we are ready to use it! Basically we will use the template tag <code class="highlighter-rouge"><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">render_field</span><span class="w"> </span><span class="err">%</span><span class="p">}</span></code>. You will
see in the next example that we can simply put the attributes just like we would do with raw HTML:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">novalidate</span><span class="nt">&gt;</span>
  <span class="cp">{%</span> <span class="nv">csrf_token</span> <span class="cp">%}</span>

  <span class="cp">{{</span> <span class="nv">form.non_field_errors</span> <span class="cp">}}</span>

  <span class="cp">{%</span> <span class="k">for</span> <span class="nv">hidden_field</span> <span class="ow">in</span> <span class="nv">form.hidden_fields</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">hidden_field.errors</span> <span class="cp">}}</span>
    <span class="cp">{{</span> <span class="nv">hidden_field</span> <span class="cp">}}</span>
  <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

  <span class="nt">&lt;table</span> <span class="na">border=</span><span class="s">"1"</span><span class="nt">&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">field</span> <span class="ow">in</span> <span class="nv">form.visible_fields</span> <span class="cp">%}</span>
      <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;th&gt;</span><span class="cp">{{</span> <span class="nv">field.label_tag</span> <span class="cp">}}</span><span class="nt">&lt;/th&gt;</span>
        <span class="nt">&lt;td&gt;</span>
          <span class="cp">{{</span> <span class="nv">field.errors</span> <span class="cp">}}</span>
          <span class="cp">{%</span> <span class="nv">render_field</span> <span class="nv">field</span> <span class="nv">style</span><span class="err">=</span><span class="s2">"border: 2px dashed red;"</span> <span class="nv">placeholder</span><span class="err">=</span><span class="nv">field.name</span> <span class="cp">%}</span>
          <span class="cp">{{</span> <span class="nv">field.help_text</span> <span class="cp">}}</span>
        <span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
  <span class="nt">&lt;/table&gt;</span>

  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<p><img src="../../../../media/2017/08/form-7.png" alt="Django Widget Tweaks Form" /></p>

<p>It’s very handy, specially for the cases where you just need to add a CSS class. Which is the case for using the
Bootstrap 4 forms templates.</p>

<hr />

<h4 id="rendering-bootstrap-4-forms">Rendering Bootstrap 4 Forms</h4>

<p>Basically to use the <a href="https://getbootstrap.com/" target="_blank">Bootstrap 4</a> library I just included the CDN link they provide in my
template:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1, shrink-to-fit=no"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"</span> <span class="na">integrity=</span><span class="s">"sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"</span> <span class="na">crossorigin=</span><span class="s">"anonymous"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;title&gt;</span>Simple is Better Than Complex<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span></code></pre></figure>

<p>This part of the article will be more to-the-point, as I won’t explore the particularities of the Bootstrap 4
implementation. Their documentation is great and rich in examples. If you are not very familiar, you can jump to the
<a href="https://getbootstrap.com/docs/4.0/components/forms/" target="_blank">Documentation / Components / Forms</a> section for further information.</p>

<p>Let’s first focus on the presentation of the inputs, we will get to the errors part later. Here is how we can represent
the same form using the Bootstrap 4 tags:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">novalidate</span><span class="nt">&gt;</span>
  <span class="cp">{%</span> <span class="nv">csrf_token</span> <span class="cp">%}</span>

  <span class="cp">{%</span> <span class="k">for</span> <span class="nv">hidden_field</span> <span class="ow">in</span> <span class="nv">form.hidden_fields</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">hidden_field</span> <span class="cp">}}</span>
  <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

  <span class="cp">{%</span> <span class="k">for</span> <span class="nv">field</span> <span class="ow">in</span> <span class="nv">form.visible_fields</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
      <span class="cp">{{</span> <span class="nv">field.label_tag</span> <span class="cp">}}</span>
      <span class="cp">{{</span> <span class="nv">field</span> <span class="cp">}}</span>
      <span class="cp">{%</span> <span class="k">if</span> <span class="nv">field.help_text</span> <span class="cp">%}</span>
        <span class="nt">&lt;small</span> <span class="na">class=</span><span class="s">"form-text text-muted"</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">field.help_text</span> <span class="cp">}}</span><span class="nt">&lt;/small&gt;</span>
      <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<p><img src="../../../../media/2017/08/bs4-form-1.png" alt="Bootstrap 4 Contact Form" /></p>

<p>The input fields looks broken though. That’s because the Bootstrap 4 forms expect a CSS class <code class="highlighter-rouge">form-control</code> in the
HTML inputs. Let’s fix it with what we learned in the last section of this article:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="cp">{%</span> <span class="nv">load</span> <span class="nv">widget_tweaks</span> <span class="cp">%}</span>

<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">novalidate</span><span class="nt">&gt;</span>
  <span class="cp">{%</span> <span class="nv">csrf_token</span> <span class="cp">%}</span>

  <span class="cp">{%</span> <span class="k">for</span> <span class="nv">hidden_field</span> <span class="ow">in</span> <span class="nv">form.hidden_fields</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">hidden_field</span> <span class="cp">}}</span>
  <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

  <span class="cp">{%</span> <span class="k">for</span> <span class="nv">field</span> <span class="ow">in</span> <span class="nv">form.visible_fields</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
      <span class="cp">{{</span> <span class="nv">field.label_tag</span> <span class="cp">}}</span>
      <span class="cp">{%</span> <span class="nv">render_field</span> <span class="nv">field</span> <span class="nv">class</span><span class="err">=</span><span class="s2">"form-control"</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="k">if</span> <span class="nv">field.help_text</span> <span class="cp">%}</span>
        <span class="nt">&lt;small</span> <span class="na">class=</span><span class="s">"form-text text-muted"</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">field.help_text</span> <span class="cp">}}</span><span class="nt">&lt;/small&gt;</span>
      <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<p><img src="../../../../media/2017/08/bs4-form-2.png" alt="Bootstrap 4 Contact Form" /></p>

<p>Much better. Now let’s see the validation and errors situation. I’m going to use an <strong>alert</strong> component for the non
field errors, and for the fields I will just play with the right CSS classes that Bootstrap 4 provides.</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="cp">{%</span> <span class="nv">load</span> <span class="nv">widget_tweaks</span> <span class="cp">%}</span>

<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">novalidate</span><span class="nt">&gt;</span>
  <span class="cp">{%</span> <span class="nv">csrf_token</span> <span class="cp">%}</span>

  <span class="cp">{%</span> <span class="k">for</span> <span class="nv">hidden_field</span> <span class="ow">in</span> <span class="nv">form.hidden_fields</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">hidden_field</span> <span class="cp">}}</span>
  <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

  <span class="cp">{%</span> <span class="k">if</span> <span class="nv">form.non_field_errors</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"alert alert-danger"</span> <span class="na">role=</span><span class="s">"alert"</span><span class="nt">&gt;</span>
      <span class="cp">{%</span> <span class="k">for</span> <span class="nv">error</span> <span class="ow">in</span> <span class="nv">form.non_field_errors</span> <span class="cp">%}</span>
        <span class="cp">{{</span> <span class="nv">error</span> <span class="cp">}}</span>
      <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

  <span class="cp">{%</span> <span class="k">for</span> <span class="nv">field</span> <span class="ow">in</span> <span class="nv">form.visible_fields</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
      <span class="cp">{{</span> <span class="nv">field.label_tag</span> <span class="cp">}}</span>

      <span class="cp">{%</span> <span class="k">if</span> <span class="nv">form.is_bound</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">if</span> <span class="nv">field.errors</span> <span class="cp">%}</span>
          <span class="cp">{%</span> <span class="nv">render_field</span> <span class="nv">field</span> <span class="nv">class</span><span class="err">=</span><span class="s2">"form-control is-invalid"</span> <span class="cp">%}</span>
          <span class="cp">{%</span> <span class="k">for</span> <span class="nv">error</span> <span class="ow">in</span> <span class="nv">field.errors</span> <span class="cp">%}</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"invalid-feedback"</span><span class="nt">&gt;</span>
              <span class="cp">{{</span> <span class="nv">error</span> <span class="cp">}}</span>
            <span class="nt">&lt;/div&gt;</span>
          <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
          <span class="cp">{%</span> <span class="nv">render_field</span> <span class="nv">field</span> <span class="nv">class</span><span class="err">=</span><span class="s2">"form-control is-valid"</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="nv">render_field</span> <span class="nv">field</span> <span class="nv">class</span><span class="err">=</span><span class="s2">"form-control"</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

      <span class="cp">{%</span> <span class="k">if</span> <span class="nv">field.help_text</span> <span class="cp">%}</span>
        <span class="nt">&lt;small</span> <span class="na">class=</span><span class="s">"form-text text-muted"</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">field.help_text</span> <span class="cp">}}</span><span class="nt">&lt;/small&gt;</span>
      <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<p>And here is the result:</p>

<p><img src="../../../../media/2017/08/bs4-form-3.png" alt="Bootstrap 4 Contact Form" /></p>

<p>It’s very cool because it marks with green the fields that passed the validation:</p>

<p><img src="../../../../media/2017/08/bs4-form-4.png" alt="Bootstrap 4 Contact Form" /></p>

<p>Let’s have a close look on what’s going on. We can improve the code snippet but I preferred to keep it that way so
you can have a better idea about the template rendering logic.</p>

<p>First, I call the <code class="highlighter-rouge">form.is_bound</code> method. It tells us if the form have data or not. When we first initialize the form
<code class="highlighter-rouge">form = ContactForm()</code>, the <code class="highlighter-rouge">form.is_bound()</code> method will return <code class="highlighter-rouge">False</code>. After a submission, the <code class="highlighter-rouge">form.is_bound()</code>
will return <code class="highlighter-rouge">True</code>. So, we can play with it to know if the validation process already happened or not.</p>

<p>Then, when the validation already occurred, I’m simply marking the field with the CSS class <code class="highlighter-rouge">.is-invalid</code> and
<code class="highlighter-rouge">.is-valid</code>, depending on the case. They are responsible for painting the form components in red or green.</p>

<hr />

<h4 id="reusing-form-components">Reusing Form Components</h4>

<p>One thing we can do now, is copy the existing code to an external file, and reuse our code snippet for other forms.</p>

<p><strong>includes/bs4_form.html</strong></p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="cp">{%</span> <span class="nv">load</span> <span class="nv">widget_tweaks</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">hidden_field</span> <span class="ow">in</span> <span class="nv">form.hidden_fields</span> <span class="cp">%}</span>
  <span class="cp">{{</span> <span class="nv">hidden_field</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">if</span> <span class="nv">form.non_field_errors</span> <span class="cp">%}</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"alert alert-danger"</span> <span class="na">role=</span><span class="s">"alert"</span><span class="nt">&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">error</span> <span class="ow">in</span> <span class="nv">form.non_field_errors</span> <span class="cp">%}</span>
      <span class="cp">{{</span> <span class="nv">error</span> <span class="cp">}}</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">field</span> <span class="ow">in</span> <span class="nv">form.visible_fields</span> <span class="cp">%}</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
    <span class="cp">{{</span> <span class="nv">field.label_tag</span> <span class="cp">}}</span>

    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">form.is_bound</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="k">if</span> <span class="nv">field.errors</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="nv">render_field</span> <span class="nv">field</span> <span class="nv">class</span><span class="err">=</span><span class="s2">"form-control is-invalid"</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">for</span> <span class="nv">error</span> <span class="ow">in</span> <span class="nv">field.errors</span> <span class="cp">%}</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"invalid-feedback"</span><span class="nt">&gt;</span>
            <span class="cp">{{</span> <span class="nv">error</span> <span class="cp">}}</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="nv">render_field</span> <span class="nv">field</span> <span class="nv">class</span><span class="err">=</span><span class="s2">"form-control is-valid"</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
      <span class="cp">{%</span> <span class="nv">render_field</span> <span class="nv">field</span> <span class="nv">class</span><span class="err">=</span><span class="s2">"form-control"</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">field.help_text</span> <span class="cp">%}</span>
      <span class="nt">&lt;small</span> <span class="na">class=</span><span class="s">"form-text text-muted"</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">field.help_text</span> <span class="cp">}}</span><span class="nt">&lt;/small&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span></code></pre></figure>

<p>Then now, our form definition could be as simple as:</p>

<figure class="highlight"><pre><code class="language-django" data-lang="django"><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">novalidate</span><span class="nt">&gt;</span>
  <span class="cp">{%</span> <span class="nv">csrf_token</span> <span class="cp">%}</span>
  <span class="cp">{%</span> <span class="k">include</span> <span class="s1">'includes/bs4_form.html'</span> <span class="k">with</span> <span class="nv">form</span><span class="err">=</span><span class="nv">form</span> <span class="cp">%}</span>
  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<p>For example, using the code snippet above, we use it to process the <code class="highlighter-rouge">UserCreationForm</code>, which is a built-in form
that lives inside the <code class="highlighter-rouge">django.contrib.auth</code> module. Below, the result:</p>

<p><img src="../../../../media/2017/08/bs4-form-5.png" alt="Bootstrap 4 Contact Form" /></p>

<hr />

<h4 id="conclusions">Conclusions</h4>

<p>This article become bigger than I anticipated. I first thought about writing just a quick tutorial about form
rendering. Then I remembered that I already had a to-the-point tutorial explaining
<a href="../../../../2015/12/04/package-of-the-week-django-widget-tweaks.html">how to use the django-widget-tweaks</a>. So, instead I decided to dive deep into the details and
explore some of the mechanics of the forms API.</p>

<p>I will have a follow-up article focusing on complex forms, rendering all together checkboxes, select fields, date
picker and also about developing your own custom widgets.</p>

<p>I hope you learned something new or enjoying reading this article. If you may have any questions or want to discuss
further about the topic, please leave a comment below!</p>

<p>As usual, you can find the source code and all the <a href="https://github.com/sibtc/form-rendering-examples" target="_blank">examples on GitHub</a>.</p>


            </article>
            
            <hr>
            <div class="popular-posts related-posts">
  <h4>Related Posts</h4>
    <div class="row">
      <div class="four columns">
<a href="../../../../tutorial/2019/01/02/how-to-implement-grouped-model-choice-field.html">
<img src="../../../../media/2019/01/featured-grouped.jpg" alt="How to Implement Grouped Model Choice Field" title="How to Implement Grouped Model Choice Field">
How to Implement Grouped Model Choice Field
</a>
</div>
<div class="four columns">
<a href="../../../../tutorial/2018/11/28/advanced-form-rendering-with-django-crispy-forms.html">
<img src="../../../../media/2018/11/featured-forms.jpg" alt="Advanced Form Rendering with Django Crispy Forms" title="Advanced Form Rendering with Django Crispy Forms">
Advanced Form Rendering with Django Crispy Forms
</a>
</div>
<div class="four columns">
<a href="../../../../tutorial/2018/08/13/how-to-use-bootstrap-4-forms-with-django.html">
<img src="../../../../media/2018/08/featured-crispy.jpg" alt="How to Use Bootstrap 4 Forms With Django" title="How to Use Bootstrap 4 Forms With Django">
How to Use Bootstrap 4 Forms With Django
</a>
</div>
    </div>
</div>


            <hr class="dashed">
<div class="row">
  <div class="six columns post-tags" style="padding-top: 4px">
    
      <a href="../../../../tag/django/index.html"><span class="tag">django</span></a>
    
      <a href="../../../../tag/forms/index.html"><span class="tag">forms</span></a>
    
      <a href="../../../../tag/template/index.html"><span class="tag">template</span></a>
    
  </div>
  <div class="six columns post-share">
    <div class="social">
  Share this post
  <a href="http://vk.com/share.php?url=http://sibt.co/2xdJMby"
     rel="nofollow"
     target="_blank"
     title="Share on VK">
    <i class="fa fa-vk"></i>
  </a>
  <a href="https://twitter.com/intent/tweet?text=How%20to%20Render%20Django%20Form%20Manually&amp;url=http://sibt.co/2xdGKUH&amp;via=vitorfs&amp;related=vitorfs"
     rel="nofollow"
     target="_blank"
     title="Share on Twitter">
    <i class="fa fa-twitter"></i>
  </a>
  <a href="https://www.facebook.com/sharer/sharer.php?app_id=1645747765697865&amp;u=http://sibt.co/2xdvA2b"
     rel="nofollow"
     target="_blank"
     title="Share on Facebook">
    <i class="fa fa-facebook"></i>
  </a>
  <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://sibt.co/2xe2FLE&amp;title=How%20to%20Render%20Django%20Form%20Manually&amp;summary=Dealing%20with%20user%20input%20is%20a%20very%20common%20task%20in%20any%20Web%20application%20or%20Web%20site.%20The%20standard%20way%20to%20do%20it%20is%20throughHTML%20forms,%20where%20the%20user%20input%20some%20data,%20submit%20it%20to%20the%20server,%20and%20then%20t...&amp;source=https://simpleisbetterthancomplex.com"
     rel="nofollow"
     target="_blank"
     title="Share on LinkedIn">
    <i class="fa fa-linkedin"></i>
  </a>
</div>

  </div>
</div>

          </div>
          <!--div style="text-align:center;margin-bottom:20px">

            <a href="//namecheap.pxf.io/c/477033/408288/5618" target="_blank" rel="noopener nofollow">
              <img src="//a.impactradius-go.com/display-ad/5618-408288" border="0" alt="Search and buy domains from Namecheap. Lowest prices!" width="728" height="90" style="max-width:100%!important" />
            </a>
            <img height="0" width="0" src="//namecheap.pxf.io/i/477033/408288/5618" alt="Impact Radius" style="position:absolute;visibility:hidden;" border="0" />


            <a href="https://click.linksynergy.com/fs-bin/click?id=phY4769lVwA&offerid=467035.415&subid=0&type=4" target="_blank" rel="noopener nofollow">
              <img border="0" alt="Deep Learning Specialization on Coursera" src="https://ad.linksynergy.com/fs-bin/show?id=phY4769lVwA&bids=467035.415&subid=0&type=4&gridnum=16" style="max-width:100%!important">
            </a>

          </div-->

          <div class="card">
            
  <div id="comments">
    <div id="disqus_thread"></div>
    <script>
      var disqus_config = function () {
        this.page.url = 'how-to-render-django-form-manually.html';
        this.page.identifier = '/article/2017/08/19/how-to-render-django-form-manually';
      };
      (function() {
      var d = document, s = d.createElement('script');
      s.src = 'http://simpleisbetterthancomplex.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
      })();
    </script>
    <script id="dsq-count-scr" src="http://simpleisbetterthancomplex.disqus.com/count.js" async></script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>


          </div>
          <div class="card subscribe">
  <form action="https://colossus.simpleisbetterthancomplex.com/subscribe/d2320a41-0378-4aa8-8f4e-5bb1ffcd521d/" method="post" target="_blank" novalidate>
    <h4>
      <span class="fa fa-send" style="margin-right: 5px"></span> Subscribe to our Mailing List
    </h4>
    <h5>Receive updates from the Blog!</h5>
    <div class="row">
      <div class="eight columns">
        <input class="u-full-width" placeholder="Your email address" type="email" name="email">
      </div>
      <div class="four columns">
        <button type="submit" class="u-full-width">Subscribe</button>
      </div>
    </div>
  </form>
</div>

          <div class="card popular-posts">
  <h4>Popular Posts</h4>
  <div class="row">
    
      <div class="four columns">
        <a href="../../../../tutorial/2016/07/22/how-to-extend-django-user-model.html">
          <img src="../../../../media/2016-07-22-how-to-extend-django-user-model/featured-post-image.jpg" alt="How to Extend Django User Model" title="How to Extend Django User Model">
          How to Extend Django User Model
        </a>
      </div>
    
      <div class="four columns">
        <a href="../../../../tutorial/2016/05/11/how-to-setup-ssl-certificate-on-nginx-for-django-application.html">
          <img src="../../../../media/2016-05-11-how-to-setup-ssl-certificate-on-nginx-for-django-application/featured-post-image.jpg" alt="How to Setup a SSL Certificate on Nginx for a Django Application" title="How to Setup a SSL Certificate on Nginx for a Django Application">
          How to Setup a SSL Certificate on Nginx for a Django Application
        </a>
      </div>
    
      <div class="four columns">
        <a href="../../../../tutorial/2016/10/14/how-to-deploy-to-digital-ocean.html">
          <img src="../../../../media/2016/10/featured-do.jpg" alt="How to Deploy a Django Application to Digital Ocean" title="How to Deploy a Django Application to Digital Ocean">
          How to Deploy a Django Application to Digital Ocean
        </a>
      </div>
    
  </div>
</div>

        </div>
      </div>
    </div>
  </main>
  <footer>
  <div class="container">
    <ul>
      <li>© 2015-2021 simple complex</li>
      <li><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">cc by-nc-sa 3.0</a></li>
      <li>//</li>
      <li><a href="../../../../about/index.html" rel="author">about</a></li>
      <li><a href="../../../../contact/index.html">contact</a></li>
      <li><a href="../../../../faq/index.html">faq</a></li>
      <li><a href="../../../../cookies/index.html">cookies</a></li>
      <li><a href="../../../../privacy/index.html">privacy policy</a></li>
    </ul>
  </div>
</footer>
<div class="overlay"></div>

  
  <script id="ga-page-views" src="../../../../js/page-views.js" async></script>
  <script src="http://z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=1d8c6a0f-2136-49ad-b0b3-0b09662b7e28"></script>


<style>
.related-posts .row {
  display: grid;
  grid-gap: 20px;
  grid-template-columns: repeat(3, 1fr);
}

.related-posts .four.columns {
  width: 100%;
}
</style>

<script>
_bsa.init('recommended', 'CK7I4KJJ', 'placement:simpleisbetterthancomplexcom',
    {
      target: '.related-posts .columns',
      template: `
<div class="four columns">
<a href="##link##" rel="noopener nofollow">
<img src="##smallImage##" alt="##title##" title="##title##">[Sponsored] ##title##</a>
</div>
      `
    }
  );
</script>

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": "https://simpleisbetterthancomplex.com/article/2017/08/19/how-to-render-django-form-manually.html",
  "headline": "How to Render Django Form Manually",
  "image": {
    "@type": "ImageObject",
    "url": "https://simpleisbetterthancomplex.com/media/2017/08/featured-form-rendering.jpg",
    "height": 370,
    "width": 960
  },
  "datePublished": "2017-08-19T00:00:00+03:00",
  "dateModified": "2017-08-19T00:00:00+03:00",
  "author": {
    "@type": "Person",
    "name": "Vitor Freitas"
  },
   "publisher": {
    "@type": "Organization",
    "name": "Simple is Better Than Complex",
    "logo": {
      "@type": "ImageObject",
      "url": "https://simpleisbetterthancomplex.com/img/gplus_logo.png",
      "height": 60,
      "width": 600
    }
  },
  "description": "Dealing with user input is a very common task in any Web application or Web site. The standard way to do it is throughHTML forms, where the user input some data, submit it to the server, and then t..."
}
</script>

</body>

<!-- Mirrored from simpleisbetterthancomplex.com/article/2017/08/19/how-to-render-django-form-manually.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 03 Sep 2021 12:38:12 GMT -->
</html>
